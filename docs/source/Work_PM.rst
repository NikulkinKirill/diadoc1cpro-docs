
Работа подключаемого модуля
===========================

Подключаемый модуль (ПМ) - это внешняя обработка, содержащая функции для обработки событий, возникающих при работе с модулем Диадок.

Краткое описание
----------------

События подключаемого модуля
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Точкой входа из основного модуля в подключаемый модуль является функция :doc:`ОбработатьСобытие <Obrabotat'Sobytiye>`.

Обращение к необходимой функции происходит через условие "Если"

::

  Если ИмяСобытия = "ПолучитьТекстЗапросаДляСпискаПакетовНаОтправкуПоМассивуВидовПакетов" Тогда

    Возврат ПолучитьТекстЗапросаДляСпискаПакетовНаОтправкуПоМассивуВидовПакетов(Параметры.МассивВидовПакетов);

Вызов в основном модуле происходит с использование процедуры ЭДО_ПодключаемыйМодуль_ОбработатьСобытие.

::

      Параметры = Новый Структура("ВидПакетаРазвернутый,СтрокаСписка,Пакет", ВидПакетаРазвернутый, СтрокаСписка, Пакет);
      ЭДО_ПодключаемыйМодуль_ОбработатьСобытие("ПодготовитьПакет", Параметры);

Возможности подключаемого модуля
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Для типовых конфигураций в модуле описаны основные действия для работы с событиями пакетов документов:

* сбор данных пакета
* отправка пакета
* получение пакета

Кроме того, в ПМ можно описать функции для прочих действий, связанных со списком документов в основной форме:

* действия после обновления списка документов
* выполнение регламентного задания
* сопоставление номенклатуры
* действия дополнительных кнопок и т.д.

Расположение подключаемого модуля
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Типовые ПМ для основных конфигураций распологаются в макетах основного модуля.

В настройках основной обработки модуля Диадок есть возможность указать путь к доработанному ПМ, что упрощает настройку системы под бизнес-процессы каждого клиента.

.. figure:: _static/Nastroyka_ispol'zovaniya_PM.png
       :scale: 100 %
       :align: center
       :alt: Настройка использования подключаемого модуля

Примеры использования подключаемого модуля
------------------------------------------

.. toctree::
  :name: ПМ
  :maxdepth: 1

  Как подготовить пакет документов для отправки <Podgotovka_Paketa_Dlya_Otpravki>
