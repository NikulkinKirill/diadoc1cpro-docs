
ПодготовитьЭлектронныйДокумент
==============================

**Синтаксис:**

    ПодготовитьЭлектронныйДокумент(<Результат>, <ВидДокументаРазвернутый>, <ДополнительныеПараметры>)

**Описание:**

Заполнение контента всех документов, которые необходимо включить в пакет для отправки. Результатом должен быть заполненный XDTO-объект: **Результат.Content**. Структура зависит от типа контента.

*Параметры:*

* **Результат** (тип Структура)- структура, содержащая ссылку на документ 1С и структуру контента.
* **ВидДокументаРазвернутый** (тип Структура :doc:`ВидПакетаРазвернутый <VidPaketaRazvernutyy>`)- структура, содержащая определение вида пакета.
* **ДополнительныеПараметры** (тип Структура) - структура, содержащая дополнительные параметры, которые могут потребоваться при сборе контента.

Для сбора контента формализованных документов из типовой конфигурации 1С можно использовать функцию основной обработки ТиповойМодуль_ПолучитьКонтент.
Параметрами выступают ссылка на документ в 1С, название требуемого формата контента и дополнительные параметры.

Для неформализованного документа описание контента происходит вручную.

Пример сбора данных файла pdf, который формируется на основании кода внешней печатной формы 1С:

::

    Если ID = "ID_ПротоколСогласованияЦен" Тогда

        CcылкаВПФ = Справочники.ДополнительныеОтчетыИОбработки.НайтиПоНаименованию("Протокол согласования цен", Истина);
        ИдентификаторКомандыПечатнойФормы = "ПротоколСогласованияЦен"; // идентификатор команды, должен соответствовать внешней ПФ
        ДанныеПечатнойФормы = СформироватьВнешнююПечатнуюФорму(Документ1С, CcылкаВПФ, ИдентификаторКомандыПечатнойФормы);

        Результат.Content.Date						= Документ1С.Дата;
        Результат.Content.Number					= СокрЛП(Документ1С.Номер);
        Результат.Content.NeedRecipientSignature	= Ложь;
        Результат.ДвоичныеДанные					= Новый ДвоичныеДанные(ДанныеПечатнойФормы.ИмяВременногоФайла);
        Результат.ИмяФайла							= ДанныеПечатнойФормы.ИмяФайла;

        УдалитьФайлы(ДанныеПечатнойФормы.ИмяФайла);

    КонецЕсли;
